<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Midnight Manhwa</title>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
<link rel="icon" href="favicon.ico" type="image/x-icon">

<style>
/* =========================
   RESET & BASE
========================= */
*{margin:0;padding:0;box-sizing:border-box;font-family:'Poppins',sans-serif;}
body{background:#0a0a0a;color:#eee;overflow-x:hidden;}
a{text-decoration:none;color:inherit;}

/* =========================
   TOP NAVBAR + HERO
========================= */
.topbar{
  display:flex;justify-content:space-between;align-items:center;
  padding:0.5rem 1rem; /* shorter navbar vertically */
  position:sticky;top:0;background:#070707;z-index:100;
  box-shadow:0 2px 12px rgba(0,255,255,0.1);
}

.hero-title{
  font-family:'Orbitron',sans-serif;
  font-size:2rem; /* smaller than before */
  background:linear-gradient(90deg,#00ffff,#00dfff,#00aaff);
  -webkit-background-clip:text;-webkit-text-fill-color:transparent;
  text-shadow:0 0 15px #0ff,0 2px 6px #000;
  transition:0.3s;
  white-space:nowrap; /* force single line */
  overflow:hidden;
  text-overflow:ellipsis;
  cursor:default;
}

.topbar-left, .topbar-right{
  display:flex;align-items:center;gap:0.5rem;
}

/* SEARCH ICON + MAGICAL SEARCH BAR */
#searchIcon{
  font-size:1.6rem;color:#0ff;cursor:pointer;
  transition:0.3s;
}

#searchInput{
  width:0; opacity:0; padding:0.4rem 1rem; border-radius:50px; border:none; outline:none;
  background:#111; color:#0ff; transition:0.5s ease; margin-left:0.5rem;
  box-shadow:0 0 10px rgba(0,255,255,0.2);
}
#searchInput.show{width:250px; opacity:1;} /* longer search bar for desktop */

/* MENU TOGGLE */
.menu-toggle{display:flex;flex-direction:column;cursor:pointer;gap:4px;}
.menu-toggle span{display:block;height:3px;width:25px;background:#0ff;border-radius:2px;transition:0.3s;}
.menu-toggle.active span:nth-child(1){transform:rotate(45deg) translate(5px,5px);}
.menu-toggle.active span:nth-child(2){opacity:0;}
.menu-toggle.active span:nth-child(3){transform:rotate(-45deg) translate(6px,-6px);}

/* SIDE MENU */
.side-menu{
  position:fixed;top:0;right:-220px;width:200px;height:100%;background:#111;
  display:flex;flex-direction:column;padding:2rem 1rem;gap:1.5rem;transition:0.5s;
}
.side-menu.show{right:0;}
.side-menu a{
  color:#0ff;font-weight:600;font-size:1.1rem;text-transform:uppercase;letter-spacing:1px;
  transition:0.3s;
}
.side-menu a:hover{color:#00dfff;}

/* =========================
   MANHWA GRID
========================= */
.manhwa-grid{
  display:grid;grid-template-columns:repeat(auto-fill,minmax(160px,1fr));
  gap:1rem;padding:2rem 1rem;
}
.card{
  position:relative;overflow:hidden;border-radius:14px;
  cursor:pointer;transition: transform 0.3s, box-shadow 0.3s;
  background:#111;box-shadow:0 4px 12px rgba(0,255,255,0.1);
}
.card img{width:100%;height:100%;object-fit:cover;transition:transform 0.6s ease;display:block;}
.card:hover img,.card.hover img{transform:scale(1.12);}
.card-title-overlay{position:absolute;bottom:0;left:0;right:0;padding:1rem;
background:linear-gradient(to top, rgba(0,0,0,0.75), rgba(0,0,0,0.15));pointer-events:none;}
.card-title-overlay span{
display:block;font-family:'Orbitron',sans-serif;font-size:0.9rem;
letter-spacing:1px;text-transform:uppercase;color:#0ff;
text-shadow:0 0 6px rgba(0,255,255,0.35),0 2px 6px rgba(0,0,0,0.9);}
.genre-tag{
  position:absolute;top:8px;left:8px;padding:2px 6px;font-size:0.7rem;
  background:linear-gradient(90deg,#0ff,#00dfff);color:#000;font-weight:600;border-radius:4px;
  text-transform:uppercase;box-shadow:0 0 6px rgba(0,255,255,0.3);}
.coming-soon{opacity:0.6;pointer-events:none;}
.lock-icon{
  position:absolute;top:12px;right:12px;font-size:1.2rem;color:#fff;
  background:rgba(0,0,0,0.6);border-radius:50%;padding:4px;text-shadow:0 0 6px rgba(0,0,0,0.8);}

/* NO DATA */
#noData{display:none;text-align:center;color:red;font-family:'Orbitron',sans-serif;font-size:1.3rem;margin-top:2rem;}

/* EASTER EGG */
#easterEggMessage{display:none;font-family:'Orbitron',sans-serif;font-size:2rem;color:#0ff;text-align:center;margin-top:2rem;
text-shadow:0 0 15px #0ff,0 2px 10px #000;opacity:0;transform:scale(0.8);transition:all 1.5s ease;}
#easterEggMessage.show{display:block;opacity:1;transform:scale(1);animation:bounceGlow 3s infinite alternate;}
@keyframes bounceGlow{0%{transform:scale(0.95);text-shadow:0 0 8px #0ff,0 2px 6px #000;}50%{transform:scale(1.05);text-shadow:0 0 20px #0ff,0 4px 12px #000;}100%{transform:scale(1);text-shadow:0 0 12px #0ff,0 2px 6px #000;}}

/* RESPONSIVE */
@media(max-width:768px){
  .topbar{flex-wrap:wrap;gap:0.3rem;padding:0.5rem 0.8rem;}
  .hero-title{font-size:1.5rem;white-space:normal;text-align:center;width:100%;margin:0.5rem 0;}
  #searchInput.show{width:150px;}
  .manhwa-grid{grid-template-columns:repeat(auto-fill,minmax(130px,1fr));}
}
</style>
</head>
<body>

<div class="topbar">
  <div class="topbar-left">
    <span id="searchIcon">üîç</span>
    <input type="text" id="searchInput" placeholder="Search...">
  </div>
  <div class="hero-title">Midnight Manhwa</div>
  <div class="topbar-right">
    <div class="menu-toggle" id="menuToggle">
      <span></span><span></span><span></span>
    </div>
  </div>
</div>

<!-- SIDE MENU -->
<div class="side-menu" id="sideMenu">
  <a href="#">Home</a>
  <a href="#">Genres</a>
  <a href="#">About</a>
</div>

<!-- MANHWA GRID -->
<section class="manhwa-grid" id="manhwaGrid"></section>

<!-- NO DATA FOUND -->
<div id="noData">No data found!</div>

<!-- EASTER EGG MESSAGE -->
<div id="easterEggMessage">I Love Thin Nadi Soe, So Much</div>

<script>
const menuToggle=document.getElementById("menuToggle");
const sideMenu=document.getElementById("sideMenu");
menuToggle.addEventListener("click",()=>{menuToggle.classList.toggle("active");sideMenu.classList.toggle("show");});

const searchIcon=document.getElementById("searchIcon");
const searchInput=document.getElementById("searchInput");
searchIcon.addEventListener("click",()=>{searchInput.classList.toggle("show");searchInput.focus();});

const manhwaGrid=document.getElementById("manhwaGrid");
const noData=document.getElementById("noData");
const easterEggMessage=document.getElementById("easterEggMessage");
let manhwaData=[];

fetch('Json/manhwa.json')
  .then(resp=>resp.json())
  .then(data=>{manhwaData=data;renderManhwaCards(manhwaData);})
  .catch(err=>{console.error('Failed to load manhwa.json',err);noData.style.display='block';});

function renderManhwaCards(data){
  manhwaGrid.innerHTML='';
  if(data.length===0){noData.style.display='block';}else{noData.style.display='none';}
  data.forEach(item=>{
    const card=document.createElement(item.locked?'div':'a');
    card.className='card'+(item.locked?' coming-soon':' manhwa-link');
    if(!item.locked)card.href=item.link;

    const img=document.createElement('img'); img.src=item.image; img.alt=item.title; card.appendChild(img);

    const genreTag=document.createElement('span'); genreTag.className='genre-tag'; genreTag.textContent=item.genre; card.appendChild(genreTag);

    if(item.locked){const lock=document.createElement('span'); lock.className='lock-icon'; lock.textContent='üîí'; card.appendChild(lock);}

    const overlay=document.createElement('div'); overlay.className='card-title-overlay';
    const span=document.createElement('span'); span.textContent=item.title; overlay.appendChild(span); card.appendChild(overlay);

    manhwaGrid.appendChild(card);

    if(!item.locked){let tapped=false; card.addEventListener('click',e=>{if(!tapped){e.preventDefault();tapped=true;card.classList.add('hover');setTimeout(()=>{tapped=false;card.classList.remove('hover');},900);}});}
  });
}

searchInput.addEventListener('input',()=>{
  const query=searchInput.value.trim();
  if(query==="Swt & Tnds") easterEggMessage.classList.add('show');
  else easterEggMessage.classList.remove('show');

  const lowerQuery=query.toLowerCase();
  const filtered=manhwaData.filter(item=>item.title.toLowerCase().includes(lowerQuery));
  renderManhwaCards(filtered);
});
</script>
</body>
</html>
